import"./chunk-K7C7TUE5.mjs";import{TypedEmitter as m}from"tiny-typed-emitter";var n=class extends m{#e;constructor(e){super(),this.#e=e}read(e){try{if(e.length<8)return!1;let r=e.readUInt8(7);if(r>2)return!1;let t=e.readUInt8(6);if(t>3)return!1;let o=e.subarray(8),s=e.readUInt16LE(4);this.emit("*",o,s,t,!!r)}catch{return!1}}},c=class{#e;#t;#o;#s;#n;#c;constructor(e,r,t,o,s,a){this.#e=e,this.#t=r,this.#o=t,this.#s=o,this.#n=s,this.#c=a}#r;get parsed(){if(!this.#r)try{this.#r=this.#c(this.#n.decrypt(this.#e,this.#t,this.#o,this.#s))}catch(e){console.error(`[meter-core/pkt-stream] - ${e}`);return}return this.#r}};export{c as PKT,n as PKTStream};
